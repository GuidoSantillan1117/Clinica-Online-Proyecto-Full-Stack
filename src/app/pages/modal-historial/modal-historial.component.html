<div class="container-fluid">
  <div class="container-fluid bg-light-blue p-4 rounded d-flex flex-column align-items-center text-white">
    <div class="text-end mb-4 w-100">
      <button (click)="cerrarModal()" class="btn btn-link text-white p-0 pe-2" aria-label="Cerrar">
        <i class="bi bi-x-lg fs-4"></i>
      </button>
    </div>
    <h1 class="text-center my-4">Historial con el paciente</h1>
    <table class="table table-dark table-bordered table-hover text-center align-middle">
      <thead class="text-info">
        <tr class="">
          <th>Fecha</th>
          <th>Especialidad</th>
          <th>Diagn칩stico</th>
          <th>Altura</th>
          <th>Peso</th>
          <th>Temperatura</th>
          <th>Presi칩n</th>
          <th>Extra 1</th>
          <th>Extra 2</th>
          <th>Extra 3</th>
          <th>Rese침a paciente</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let turno of historial " [ngClass]="resenaSeleccionada === turno.id_turno ? 'border-success ' : ''">
          <td>{{ turno.fecha |titlecase }}</td>
          <td>{{ turno.especialidad |titlecase }}</td>
          <td>{{ turno.diagnostico |titlecase }}</td>
          <td>{{ turno.turnos_datos[0].altura }}</td>
          <td>{{ turno.turnos_datos[0].peso }}</td>
          <td>{{ turno.turnos_datos[0].temperatura }}</td>
          <td>{{ turno.turnos_datos[0].presion }}</td>
          <td>{{ turno.turnos_datos[0].dato_1?.clave }}: {{ turno.turnos_datos[0].dato_1?.valor }}</td>
          <td>{{ turno.turnos_datos[0].dato_2?.clave }}: {{ turno.turnos_datos[0].dato_2?.valor }}</td>
          <td>{{ turno.turnos_datos[0].dato_3?.clave }}: {{ turno.turnos_datos[0].dato_3?.valor }}</td>
          <td><button (click)="abrirResena(turno)" class="btn btn-sm  bg-light-blue">Ver </button></td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="mostrarResena">
      <p>Rese침a: {{resena}}</p>
    </div>
  </div>
</div>