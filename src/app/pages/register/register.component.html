<div class="container d-flex flex-column justify-content-center bg-light-blue  align-items-center">
    <div class="d-flex justify-content-center flex-column">
        @if(!selected)
        {
        <h1 class="text-center">Elige un tipo de usuario</h1>
        <div class="text-center d-flex flex-column">
            <button (click)="select('pacientes')" class="btn btn-lg bg-white mt-3 mb-3">Paciente</button>
            <button (click)="select('especialistas')" class="btn btn-lg bg-white mt-3 mb-3">Especialista</button>
            <button (click)="select('administradores')" class="btn btn-lg bg-white mt-3 mb-3 ">Administrador</button>
        </div>
        }
        @else{
        <h1 class="text-center">{{userType}}</h1>
        <div class="grid d-flex justify-content-center">
            <div class="row" style="width: 50%;">
                <div class="col-6 mt-3">
                    <label class="form-label fw-bolder text-xbox-gray">Nombre</label>
                    <input type="text" class="form-control" placeholder="Pedro" name="nombre" [(ngModel)]="nombre"
                        required>
                </div>
                <div class="col-6 mt-3">
                    <label class="form-label fw-bolder text-xbox-gray">Apellido</label>
                    <input type="text" class="form-control" placeholder="Perez" name="mail" [(ngModel)]="apellido"
                        required>
                </div>
                <div class="col-5 mt-3">
                    <label class="form-label fw-bolder text-xbox-gray">Edad</label>
                    <input type="number" class="form-control" placeholder="18" name="edad" [(ngModel)]="edad" required>
                </div>
                <div class="col-5 mt-3">
                    <label class="form-label fw-bolder text-xbox-gray">DNI</label>
                    <input type="number" class="form-control" name="dni" [(ngModel)]="dni" required>
                </div>

                <div *ngIf="userType ==='paciente'" class="col-12 mt-3">
                    <label for="obraSocial" class="form-label fw-bolder text-xbox-gray">Obra social</label>
                    <select id="obraSocial" [(ngModel)]="obraSeleccionada" class="form-select">
                        <option value="" disabled selected>Elige una obra social</option>
                        <option *ngFor="let obra of obrasSociales" [value]="obra">{{ obra }}</option>
                    </select>
                </div>


                <div *ngIf="userType ==='especialistas'">
                    <div class="col-8 mt-3" *ngFor="let item of especialidadesSeleccionadas; let i = index ">
                        <label for="especialidad" class="form-label fw-bolder text-xbox-gray">
                            {{i === 0 ? 'Especialidad'  : 'Especialidad adicional N° ' + (i)}}
                        </label>
                    <div class="d-flex ">
                    <select
                        id="especialidad"
                        class="form-select"
                        [(ngModel)]="especialidadesSeleccionadas[i]"
                        (ngModelChange)="selectEspecialidad(especialidadesSeleccionadas[i], i)">
                        <option disabled [ngValue]="null">Elige una especialidad</option>
                        <option
                        class="fw-bold"
                        id="opciones"
                        [disabled]="especialidadesSeleccionadas.includes(especialidad) && especialidad !== 'Agregar especialidades'"
                        *ngFor="let especialidad of especialidades"
                        [ngValue]="especialidad">
                        {{ especialidad }}
                        </option>
                    </select>
                        <i
                            (click)="addEspecialidad()"
                            [class.d-none]="i !== 0"
                            style="cursor: pointer; font-size: 25px; margin-left: 5px; margin-top: 5px;"
                            class="bi bi-plus-circle text-white">
                        </i>
                        </div>

                    </div>
                </div>

                
                
                    <div class="mt-5 col-6 bg-success">
                        <label class>Foto de perfil</label>
                        <input type="file" (change)="onFileSelected($event,'perfil',0)" accept="image/*" />
                    </div>
                    
                    <div *ngIf="userType ==='Paciente'"class="mt-5 col-6 bg-success">
                        <label class>Foto de fondo</label>
                        <input type="file"(change)="onFileSelected($event,'fondo',1)" accept="image/*" />
                    </div>
                <div class="my-5">

                    <div class="mt-3">
                        <label class="form-label fw-bolder text-xbox-gray">Correo</label>
                        <input type="email" class="form-control" placeholder="ejemplo@gmail.com" name="mail"
                            [(ngModel)]="mail" required>
                    </div>
                    <div class="mt-3">
                        <label class="form-label fw-bolder text-xbox-gray">Contraseña</label>
                        <input type="password" class="form-control" placeholder="*******" name="password"
                            [(ngModel)]="password" required>
                    </div>

                    <button (click)="register(userType)">Registrar</button>
                </div>
            </div>
        </div>
        }
    </div>
</div>